{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"messagesContainerStyle\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { ActionSheetProvider } from '@expo/react-native-action-sheet';\nimport uuid from 'uuid';\nimport dayjs from 'dayjs';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport * as utils from \"./utils\";\nimport { Actions } from \"./Actions\";\nimport { Avatar } from \"./Avatar\";\nimport Bubble from \"./Bubble\";\nimport { SystemMessage } from \"./SystemMessage\";\nimport { MessageImage } from \"./MessageImage\";\nimport { MessageText } from \"./MessageText\";\nimport { Composer } from \"./Composer\";\nimport { Day } from \"./Day\";\nimport { InputToolbar } from \"./InputToolbar\";\nimport { LoadEarlier } from \"./LoadEarlier\";\nimport Message from \"./Message\";\nimport MessageContainer from \"./MessageContainer\";\nimport { Send } from \"./Send\";\nimport { GiftedChatContext } from \"./GiftedChatContext\";\nimport { Time } from \"./Time\";\nimport GiftedAvatar from \"./GiftedAvatar\";\nimport { MIN_COMPOSER_HEIGHT, MAX_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER, TIME_FORMAT, DATE_FORMAT, TEST_ID } from \"./Constant\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\ndayjs.extend(localizedFormat);\nvar GiftedChat = function (_React$Component) {\n  _inherits(GiftedChat, _React$Component);\n  var _super = _createSuper(GiftedChat);\n  function GiftedChat(props) {\n    var _this;\n    _classCallCheck(this, GiftedChat);\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this._keyboardHeight = 0;\n    _this._bottomOffset = 0;\n    _this._maxHeight = undefined;\n    _this._isFirstLayout = true;\n    _this._locale = 'en';\n    _this.invertibleScrollViewProps = undefined;\n    _this._actionSheetRef = React.createRef();\n    _this._messageContainerRef = React.createRef();\n    _this._isTextInputWasFocused = false;\n    _this.state = {\n      isInitialized: false,\n      composerHeight: _this.props.minComposerHeight,\n      messagesContainerHeight: undefined,\n      typingDisabled: false,\n      text: undefined,\n      messages: undefined\n    };\n    _this.getLocale = function () {\n      return _this._locale;\n    };\n    _this.onKeyboardWillShow = function (e) {\n      _this.handleTextInputFocusWhenKeyboardShow();\n      if (_this.props.isKeyboardInternallyHandled) {\n        _this.setIsTypingDisabled(true);\n        _this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n        _this.setBottomOffset(_this.props.bottomOffset != null ? _this.props.bottomOffset : 1);\n        var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard();\n        _this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    };\n    _this.onKeyboardWillHide = function (_e) {\n      _this.handleTextInputFocusWhenKeyboardHide();\n      if (_this.props.isKeyboardInternallyHandled) {\n        _this.setIsTypingDisabled(true);\n        _this.setKeyboardHeight(0);\n        _this.setBottomOffset(0);\n        var newMessagesContainerHeight = _this.getBasicMessagesContainerHeight();\n        _this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    };\n    _this.onKeyboardDidShow = function (e) {\n      if (Platform.OS === 'android') {\n        _this.onKeyboardWillShow(e);\n      }\n      _this.setIsTypingDisabled(false);\n    };\n    _this.onKeyboardDidHide = function (e) {\n      if (Platform.OS === 'android') {\n        _this.onKeyboardWillHide(e);\n      }\n      _this.setIsTypingDisabled(false);\n    };\n    _this.onSend = function () {\n      var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var shouldResetInputToolbar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n      var newMessages = messages.map(function (message) {\n        return _objectSpread(_objectSpread({}, message), {}, {\n          user: _this.props.user,\n          createdAt: new Date(),\n          _id: _this.props.messageIdGenerator && _this.props.messageIdGenerator()\n        });\n      });\n      if (shouldResetInputToolbar === true) {\n        _this.setIsTypingDisabled(true);\n        _this.resetInputToolbar();\n      }\n      if (_this.props.onSend) {\n        _this.props.onSend(newMessages);\n      }\n      if (shouldResetInputToolbar === true) {\n        setTimeout(function () {\n          if (_this.getIsMounted() === true) {\n            _this.setIsTypingDisabled(false);\n          }\n        }, 100);\n      }\n    };\n    _this.onInputSizeChanged = function (size) {\n      var newComposerHeight = Math.max(_this.props.minComposerHeight, Math.min(_this.props.maxComposerHeight, size.height));\n      var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      _this.setState({\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    };\n    _this.onInputTextChanged = function (text) {\n      if (_this.getIsTypingDisabled()) {\n        return;\n      }\n      if (_this.props.onInputTextChanged) {\n        _this.props.onInputTextChanged(text);\n      }\n      if (_this.props.text === undefined) {\n        _this.setState({\n          text: text\n        });\n      }\n    };\n    _this.onInitialLayoutViewLayout = function (e) {\n      var layout = e.nativeEvent.layout;\n      if (layout.height <= 0) {\n        return;\n      }\n      _this.notifyInputTextReset();\n      _this.setMaxHeight(layout.height);\n      var newComposerHeight = _this.props.minComposerHeight;\n      var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      var initialText = _this.props.initialText || '';\n      _this.setState({\n        isInitialized: true,\n        text: _this.getTextFromProp(initialText),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    };\n    _this.onMainViewLayout = function (e) {\n      var layout = e.nativeEvent.layout;\n      if (_this.getMaxHeight() !== layout.height || _this.getIsFirstLayout() === true) {\n        _this.setMaxHeight(layout.height);\n        _this.setState({\n          messagesContainerHeight: _this._keyboardHeight > 0 ? _this.getMessagesContainerHeightWithKeyboard() : _this.getBasicMessagesContainerHeight()\n        });\n      }\n      if (_this.getIsFirstLayout() === true) {\n        _this.setIsFirstLayout(false);\n      }\n    };\n    _this.invertibleScrollViewProps = {\n      inverted: _this.props.inverted,\n      keyboardShouldPersistTaps: _this.props.keyboardShouldPersistTaps,\n      onKeyboardWillShow: _this.onKeyboardWillShow,\n      onKeyboardWillHide: _this.onKeyboardWillHide,\n      onKeyboardDidShow: _this.onKeyboardDidShow,\n      onKeyboardDidHide: _this.onKeyboardDidHide\n    };\n    return _this;\n  }\n  _createClass(GiftedChat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n        messages = _this$props.messages,\n        text = _this$props.text;\n      this.setIsMounted(true);\n      this.initLocale();\n      this.setMessages(messages || []);\n      this.setTextFromProp(text);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setIsMounted(false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n      var prevProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$props2 = this.props,\n        messages = _this$props2.messages,\n        text = _this$props2.text,\n        inverted = _this$props2.inverted;\n      if (this.props !== prevProps) {\n        this.setMessages(messages || []);\n      }\n      if (inverted === false && messages && prevProps.messages && messages.length !== prevProps.messages.length) {\n        setTimeout(function () {\n          return _this2.scrollToBottom(false);\n        }, 200);\n      }\n      if (text !== prevProps.text) {\n        this.setTextFromProp(text);\n      }\n    }\n  }, {\n    key: \"initLocale\",\n    value: function initLocale() {\n      if (this.props.locale === null) {\n        this.setLocale('en');\n      } else {\n        this.setLocale(this.props.locale || 'en');\n      }\n    }\n  }, {\n    key: \"setLocale\",\n    value: function setLocale(locale) {\n      this._locale = locale;\n    }\n  }, {\n    key: \"setTextFromProp\",\n    value: function setTextFromProp(textProp) {\n      if (textProp !== undefined && textProp !== this.state.text) {\n        this.setState({\n          text: textProp\n        });\n      }\n    }\n  }, {\n    key: \"getTextFromProp\",\n    value: function getTextFromProp(fallback) {\n      if (this.props.text === undefined) {\n        return fallback;\n      }\n      return this.props.text;\n    }\n  }, {\n    key: \"setMessages\",\n    value: function setMessages(messages) {\n      this.setState({\n        messages: messages\n      });\n    }\n  }, {\n    key: \"getMessages\",\n    value: function getMessages() {\n      return this.state.messages;\n    }\n  }, {\n    key: \"setMaxHeight\",\n    value: function setMaxHeight(height) {\n      this._maxHeight = height;\n    }\n  }, {\n    key: \"getMaxHeight\",\n    value: function getMaxHeight() {\n      return this._maxHeight;\n    }\n  }, {\n    key: \"setKeyboardHeight\",\n    value: function setKeyboardHeight(height) {\n      this._keyboardHeight = height;\n    }\n  }, {\n    key: \"getKeyboardHeight\",\n    value: function getKeyboardHeight() {\n      if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n        return 0;\n      }\n      return this._keyboardHeight;\n    }\n  }, {\n    key: \"setBottomOffset\",\n    value: function setBottomOffset(value) {\n      this._bottomOffset = value;\n    }\n  }, {\n    key: \"getBottomOffset\",\n    value: function getBottomOffset() {\n      return this._bottomOffset;\n    }\n  }, {\n    key: \"setIsFirstLayout\",\n    value: function setIsFirstLayout(value) {\n      this._isFirstLayout = value;\n    }\n  }, {\n    key: \"getIsFirstLayout\",\n    value: function getIsFirstLayout() {\n      return this._isFirstLayout;\n    }\n  }, {\n    key: \"setIsTypingDisabled\",\n    value: function setIsTypingDisabled(value) {\n      this.setState({\n        typingDisabled: value\n      });\n    }\n  }, {\n    key: \"getIsTypingDisabled\",\n    value: function getIsTypingDisabled() {\n      return this.state.typingDisabled;\n    }\n  }, {\n    key: \"setIsMounted\",\n    value: function setIsMounted(value) {\n      this._isMounted = value;\n    }\n  }, {\n    key: \"getIsMounted\",\n    value: function getIsMounted() {\n      return this._isMounted;\n    }\n  }, {\n    key: \"getMinInputToolbarHeight\",\n    value: function getMinInputToolbarHeight() {\n      return this.props.renderAccessory ? this.props.minInputToolbarHeight * 2 : this.props.minInputToolbarHeight;\n    }\n  }, {\n    key: \"calculateInputToolbarHeight\",\n    value: function calculateInputToolbarHeight(composerHeight) {\n      return composerHeight + (this.getMinInputToolbarHeight() - this.props.minComposerHeight);\n    }\n  }, {\n    key: \"getBasicMessagesContainerHeight\",\n    value: function getBasicMessagesContainerHeight() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight);\n    }\n  }, {\n    key: \"getMessagesContainerHeightWithKeyboard\",\n    value: function getMessagesContainerHeightWithKeyboard() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getBasicMessagesContainerHeight(composerHeight) - this.getKeyboardHeight() + this.getBottomOffset();\n    }\n  }, {\n    key: \"handleTextInputFocusWhenKeyboardHide\",\n    value: function handleTextInputFocusWhenKeyboardHide() {\n      var _a;\n      if (!this._isTextInputWasFocused) {\n        this._isTextInputWasFocused = ((_a = this.textInput) === null || _a === void 0 ? void 0 : _a.isFocused()) || false;\n      }\n    }\n  }, {\n    key: \"handleTextInputFocusWhenKeyboardShow\",\n    value: function handleTextInputFocusWhenKeyboardShow() {\n      if (this.textInput && this._isTextInputWasFocused && !this.textInput.isFocused()) {\n        this.textInput.focus();\n      }\n      this._isTextInputWasFocused = false;\n    }\n  }, {\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (this._messageContainerRef && this._messageContainerRef.current) {\n        var inverted = this.props.inverted;\n        if (!inverted) {\n          this._messageContainerRef.current.scrollToEnd({\n            animated: animated\n          });\n        } else {\n          this._messageContainerRef.current.scrollToOffset({\n            offset: 0,\n            animated: animated\n          });\n        }\n      }\n    }\n  }, {\n    key: \"renderMessages\",\n    value: function renderMessages() {\n      var _this$props3 = this.props,\n        messagesContainerStyle = _this$props3.messagesContainerStyle,\n        messagesContainerProps = _objectWithoutProperties(_this$props3, _excluded);\n      var fragment = _jsxs(View, {\n        style: [{\n          height: this.state.messagesContainerHeight\n        }, messagesContainerStyle],\n        children: [_jsx(MessageContainer, _objectSpread(_objectSpread({}, messagesContainerProps), {}, {\n          invertibleScrollViewProps: this.invertibleScrollViewProps,\n          messages: this.getMessages(),\n          forwardRef: this._messageContainerRef,\n          isTyping: this.props.isTyping\n        })), this.renderChatFooter()]\n      });\n      return this.props.isKeyboardInternallyHandled ? _jsx(KeyboardAvoidingView, {\n        enabled: true,\n        children: fragment\n      }) : fragment;\n    }\n  }, {\n    key: \"resetInputToolbar\",\n    value: function resetInputToolbar() {\n      if (this.textInput) {\n        this.textInput.clear();\n      }\n      this.notifyInputTextReset();\n      var newComposerHeight = this.props.minComposerHeight;\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      this.setState({\n        text: this.getTextFromProp(''),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    }\n  }, {\n    key: \"focusTextInput\",\n    value: function focusTextInput() {\n      if (this.textInput) {\n        this.textInput.focus();\n      }\n    }\n  }, {\n    key: \"notifyInputTextReset\",\n    value: function notifyInputTextReset() {\n      if (this.props.onInputTextChanged) {\n        this.props.onInputTextChanged('');\n      }\n    }\n  }, {\n    key: \"renderInputToolbar\",\n    value: function renderInputToolbar() {\n      var _this3 = this;\n      var inputToolbarProps = _objectSpread(_objectSpread({}, this.props), {}, {\n        text: this.getTextFromProp(this.state.text),\n        composerHeight: Math.max(this.props.minComposerHeight, this.state.composerHeight),\n        onSend: this.onSend,\n        onInputSizeChanged: this.onInputSizeChanged,\n        onTextChanged: this.onInputTextChanged,\n        textInputProps: _objectSpread(_objectSpread({}, this.props.textInputProps), {}, {\n          ref: function ref(textInput) {\n            return _this3.textInput = textInput;\n          },\n          maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength\n        })\n      });\n      if (this.props.renderInputToolbar) {\n        return this.props.renderInputToolbar(inputToolbarProps);\n      }\n      return _jsx(InputToolbar, _objectSpread({}, inputToolbarProps));\n    }\n  }, {\n    key: \"renderChatFooter\",\n    value: function renderChatFooter() {\n      if (this.props.renderChatFooter) {\n        return this.props.renderChatFooter();\n      }\n      return null;\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.props.renderLoading) {\n        return this.props.renderLoading();\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      if (this.state.isInitialized === true) {\n        var actionSheet = this.props.actionSheet || function () {\n          var _a;\n          return (_a = _this4._actionSheetRef.current) === null || _a === void 0 ? void 0 : _a.getContext();\n        };\n        var getLocale = this.getLocale;\n        return _jsx(GiftedChatContext.Provider, {\n          value: {\n            actionSheet: actionSheet,\n            getLocale: getLocale\n          },\n          children: _jsx(View, {\n            testID: TEST_ID.WRAPPER,\n            style: styles.wrapper,\n            children: _jsx(ActionSheetProvider, {\n              ref: this._actionSheetRef,\n              children: _jsxs(View, {\n                style: styles.container,\n                onLayout: this.onMainViewLayout,\n                children: [this.renderMessages(), this.renderInputToolbar()]\n              })\n            })\n          })\n        });\n      }\n      return _jsx(View, {\n        testID: TEST_ID.LOADING_WRAPPER,\n        style: styles.container,\n        onLayout: this.onInitialLayoutViewLayout,\n        children: this.renderLoading()\n      });\n    }\n  }], [{\n    key: \"append\",\n    value: function append() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n      return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n      return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\n    }\n  }]);\n  return GiftedChat;\n}(React.Component);\nGiftedChat.defaultProps = {\n  messages: [],\n  messagesContainerStyle: undefined,\n  text: undefined,\n  placeholder: DEFAULT_PLACEHOLDER,\n  disableComposer: false,\n  messageIdGenerator: function messageIdGenerator() {\n    return uuid.v4();\n  },\n  user: {},\n  onSend: function onSend() {},\n  locale: null,\n  timeFormat: TIME_FORMAT,\n  dateFormat: DATE_FORMAT,\n  loadEarlier: false,\n  onLoadEarlier: function onLoadEarlier() {},\n  isLoadingEarlier: false,\n  renderLoading: null,\n  renderLoadEarlier: null,\n  renderAvatar: undefined,\n  showUserAvatar: false,\n  actionSheet: null,\n  onPressAvatar: null,\n  onLongPressAvatar: null,\n  renderUsernameOnMessage: false,\n  renderAvatarOnTop: false,\n  renderBubble: null,\n  renderSystemMessage: null,\n  onLongPress: null,\n  renderUserName: null,\n  renderMessage: null,\n  renderMessageText: null,\n  renderMessageImage: null,\n  renderMessageVideo: null,\n  renderMessageAudio: null,\n  imageProps: {},\n  videoProps: {},\n  audioProps: {},\n  lightboxProps: {},\n  textInputProps: {},\n  listViewProps: {},\n  renderCustomView: null,\n  isCustomViewBottom: false,\n  renderDay: null,\n  renderTime: null,\n  renderFooter: null,\n  renderChatEmpty: null,\n  renderChatFooter: null,\n  renderInputToolbar: null,\n  renderComposer: null,\n  renderActions: null,\n  renderSend: null,\n  renderAccessory: null,\n  isKeyboardInternallyHandled: true,\n  onPressActionButton: null,\n  bottomOffset: null,\n  minInputToolbarHeight: 44,\n  keyboardShouldPersistTaps: Platform.select({\n    ios: 'never',\n    android: 'always',\n    default: 'never'\n  }),\n  onInputTextChanged: null,\n  maxInputLength: null,\n  forceGetKeyboardHeight: false,\n  inverted: true,\n  extraData: null,\n  minComposerHeight: MIN_COMPOSER_HEIGHT,\n  maxComposerHeight: MAX_COMPOSER_HEIGHT\n};\nGiftedChat.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  messagesContainerStyle: utils.StylePropType,\n  text: PropTypes.string,\n  initialText: PropTypes.string,\n  placeholder: PropTypes.string,\n  disableComposer: PropTypes.bool,\n  messageIdGenerator: PropTypes.func,\n  user: PropTypes.object,\n  onSend: PropTypes.func,\n  locale: PropTypes.string,\n  timeFormat: PropTypes.string,\n  dateFormat: PropTypes.string,\n  isKeyboardInternallyHandled: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  onLoadEarlier: PropTypes.func,\n  isLoadingEarlier: PropTypes.bool,\n  renderLoading: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  renderAvatar: PropTypes.func,\n  showUserAvatar: PropTypes.bool,\n  actionSheet: PropTypes.func,\n  onPressAvatar: PropTypes.func,\n  onLongPressAvatar: PropTypes.func,\n  renderUsernameOnMessage: PropTypes.bool,\n  renderAvatarOnTop: PropTypes.bool,\n  isCustomViewBottom: PropTypes.bool,\n  renderBubble: PropTypes.func,\n  renderSystemMessage: PropTypes.func,\n  onLongPress: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderMessageText: PropTypes.func,\n  renderMessageImage: PropTypes.func,\n  imageProps: PropTypes.object,\n  videoProps: PropTypes.object,\n  audioProps: PropTypes.object,\n  lightboxProps: PropTypes.object,\n  renderCustomView: PropTypes.func,\n  renderDay: PropTypes.func,\n  renderTime: PropTypes.func,\n  renderFooter: PropTypes.func,\n  renderChatEmpty: PropTypes.func,\n  renderChatFooter: PropTypes.func,\n  renderInputToolbar: PropTypes.func,\n  renderComposer: PropTypes.func,\n  renderActions: PropTypes.func,\n  renderSend: PropTypes.func,\n  renderAccessory: PropTypes.func,\n  onPressActionButton: PropTypes.func,\n  bottomOffset: PropTypes.number,\n  minInputToolbarHeight: PropTypes.number,\n  listViewProps: PropTypes.object,\n  keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n  onInputTextChanged: PropTypes.func,\n  maxInputLength: PropTypes.number,\n  forceGetKeyboardHeight: PropTypes.bool,\n  inverted: PropTypes.bool,\n  textInputProps: PropTypes.object,\n  extraData: PropTypes.object,\n  minComposerHeight: PropTypes.number,\n  maxComposerHeight: PropTypes.number,\n  alignTop: PropTypes.bool\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  wrapper: {\n    flex: 1\n  }\n});\nexport * from \"./Models\";\nexport { GiftedChat, Actions, Avatar, Bubble, SystemMessage, MessageImage, MessageText, Composer, Day, InputToolbar, LoadEarlier, Message, MessageContainer, Send, Time, GiftedAvatar, utils };","map":{"version":3,"sources":["../src/GiftedChat.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Platform, StyleSheet, View, KeyboardAvoidingView, } from 'react-native';\nimport { ActionSheetProvider, } from '@expo/react-native-action-sheet';\nimport uuid from 'uuid';\nimport dayjs from 'dayjs';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport * as utils from './utils';\nimport { Actions } from './Actions';\nimport { Avatar } from './Avatar';\nimport Bubble from './Bubble';\nimport { SystemMessage } from './SystemMessage';\nimport { MessageImage } from './MessageImage';\nimport { MessageText } from './MessageText';\nimport { Composer } from './Composer';\nimport { Day } from './Day';\nimport { InputToolbar } from './InputToolbar';\nimport { LoadEarlier } from './LoadEarlier';\nimport Message from './Message';\nimport MessageContainer from './MessageContainer';\nimport { Send } from './Send';\nimport { GiftedChatContext } from './GiftedChatContext';\nimport { Time } from './Time';\nimport GiftedAvatar from './GiftedAvatar';\nimport { MIN_COMPOSER_HEIGHT, MAX_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER, TIME_FORMAT, DATE_FORMAT, TEST_ID, } from './Constant';\ndayjs.extend(localizedFormat);\nclass GiftedChat extends React.Component {\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this._keyboardHeight = 0;\n        this._bottomOffset = 0;\n        this._maxHeight = undefined;\n        this._isFirstLayout = true;\n        this._locale = 'en';\n        this.invertibleScrollViewProps = undefined;\n        this._actionSheetRef = React.createRef();\n        this._messageContainerRef = React.createRef();\n        this._isTextInputWasFocused = false;\n        this.state = {\n            isInitialized: false,\n            composerHeight: this.props.minComposerHeight,\n            messagesContainerHeight: undefined,\n            typingDisabled: false,\n            text: undefined,\n            messages: undefined,\n        };\n        this.getLocale = () => this._locale;\n        this.onKeyboardWillShow = (e) => {\n            this.handleTextInputFocusWhenKeyboardShow();\n            if (this.props.isKeyboardInternallyHandled) {\n                this.setIsTypingDisabled(true);\n                this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n                this.setBottomOffset(this.props.bottomOffset != null ? this.props.bottomOffset : 1);\n                const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard();\n                this.setState({\n                    messagesContainerHeight: newMessagesContainerHeight,\n                });\n            }\n        };\n        this.onKeyboardWillHide = (_e) => {\n            this.handleTextInputFocusWhenKeyboardHide();\n            if (this.props.isKeyboardInternallyHandled) {\n                this.setIsTypingDisabled(true);\n                this.setKeyboardHeight(0);\n                this.setBottomOffset(0);\n                const newMessagesContainerHeight = this.getBasicMessagesContainerHeight();\n                this.setState({\n                    messagesContainerHeight: newMessagesContainerHeight,\n                });\n            }\n        };\n        this.onKeyboardDidShow = (e) => {\n            if (Platform.OS === 'android') {\n                this.onKeyboardWillShow(e);\n            }\n            this.setIsTypingDisabled(false);\n        };\n        this.onKeyboardDidHide = (e) => {\n            if (Platform.OS === 'android') {\n                this.onKeyboardWillHide(e);\n            }\n            this.setIsTypingDisabled(false);\n        };\n        this.onSend = (messages = [], shouldResetInputToolbar = false) => {\n            if (!Array.isArray(messages)) {\n                messages = [messages];\n            }\n            const newMessages = messages.map(message => {\n                return {\n                    ...message,\n                    user: this.props.user,\n                    createdAt: new Date(),\n                    _id: this.props.messageIdGenerator && this.props.messageIdGenerator(),\n                };\n            });\n            if (shouldResetInputToolbar === true) {\n                this.setIsTypingDisabled(true);\n                this.resetInputToolbar();\n            }\n            if (this.props.onSend) {\n                this.props.onSend(newMessages);\n            }\n            if (shouldResetInputToolbar === true) {\n                setTimeout(() => {\n                    if (this.getIsMounted() === true) {\n                        this.setIsTypingDisabled(false);\n                    }\n                }, 100);\n            }\n        };\n        this.onInputSizeChanged = (size) => {\n            const newComposerHeight = Math.max(this.props.minComposerHeight, Math.min(this.props.maxComposerHeight, size.height));\n            const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n            this.setState({\n                composerHeight: newComposerHeight,\n                messagesContainerHeight: newMessagesContainerHeight,\n            });\n        };\n        this.onInputTextChanged = (text) => {\n            if (this.getIsTypingDisabled()) {\n                return;\n            }\n            if (this.props.onInputTextChanged) {\n                this.props.onInputTextChanged(text);\n            }\n            // Only set state if it's not being overridden by a prop.\n            if (this.props.text === undefined) {\n                this.setState({ text });\n            }\n        };\n        this.onInitialLayoutViewLayout = (e) => {\n            const { layout } = e.nativeEvent;\n            if (layout.height <= 0) {\n                return;\n            }\n            this.notifyInputTextReset();\n            this.setMaxHeight(layout.height);\n            const newComposerHeight = this.props.minComposerHeight;\n            const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n            const initialText = this.props.initialText || '';\n            this.setState({\n                isInitialized: true,\n                text: this.getTextFromProp(initialText),\n                composerHeight: newComposerHeight,\n                messagesContainerHeight: newMessagesContainerHeight,\n            });\n        };\n        this.onMainViewLayout = (e) => {\n            // TODO: fix an issue when keyboard is dismissing during the initialization\n            const { layout } = e.nativeEvent;\n            if (this.getMaxHeight() !== layout.height ||\n                this.getIsFirstLayout() === true) {\n                this.setMaxHeight(layout.height);\n                this.setState({\n                    messagesContainerHeight: this._keyboardHeight > 0\n                        ? this.getMessagesContainerHeightWithKeyboard()\n                        : this.getBasicMessagesContainerHeight(),\n                });\n            }\n            if (this.getIsFirstLayout() === true) {\n                this.setIsFirstLayout(false);\n            }\n        };\n        this.invertibleScrollViewProps = {\n            inverted: this.props.inverted,\n            keyboardShouldPersistTaps: this.props.keyboardShouldPersistTaps,\n            onKeyboardWillShow: this.onKeyboardWillShow,\n            onKeyboardWillHide: this.onKeyboardWillHide,\n            onKeyboardDidShow: this.onKeyboardDidShow,\n            onKeyboardDidHide: this.onKeyboardDidHide,\n        };\n    }\n    static append(currentMessages = [], messages, inverted = true) {\n        if (!Array.isArray(messages)) {\n            messages = [messages];\n        }\n        return inverted\n            ? messages.concat(currentMessages)\n            : currentMessages.concat(messages);\n    }\n    static prepend(currentMessages = [], messages, inverted = true) {\n        if (!Array.isArray(messages)) {\n            messages = [messages];\n        }\n        return inverted\n            ? currentMessages.concat(messages)\n            : messages.concat(currentMessages);\n    }\n    componentDidMount() {\n        const { messages, text } = this.props;\n        this.setIsMounted(true);\n        this.initLocale();\n        this.setMessages(messages || []);\n        this.setTextFromProp(text);\n    }\n    componentWillUnmount() {\n        this.setIsMounted(false);\n    }\n    componentDidUpdate(prevProps = {}) {\n        const { messages, text, inverted } = this.props;\n        if (this.props !== prevProps) {\n            this.setMessages(messages || []);\n        }\n        if (inverted === false &&\n            messages &&\n            prevProps.messages &&\n            messages.length !== prevProps.messages.length) {\n            setTimeout(() => this.scrollToBottom(false), 200);\n        }\n        if (text !== prevProps.text) {\n            this.setTextFromProp(text);\n        }\n    }\n    initLocale() {\n        if (this.props.locale === null) {\n            this.setLocale('en');\n        }\n        else {\n            this.setLocale(this.props.locale || 'en');\n        }\n    }\n    setLocale(locale) {\n        this._locale = locale;\n    }\n    setTextFromProp(textProp) {\n        // Text prop takes precedence over state.\n        if (textProp !== undefined && textProp !== this.state.text) {\n            this.setState({ text: textProp });\n        }\n    }\n    getTextFromProp(fallback) {\n        if (this.props.text === undefined) {\n            return fallback;\n        }\n        return this.props.text;\n    }\n    setMessages(messages) {\n        this.setState({ messages });\n    }\n    getMessages() {\n        return this.state.messages;\n    }\n    setMaxHeight(height) {\n        this._maxHeight = height;\n    }\n    getMaxHeight() {\n        return this._maxHeight;\n    }\n    setKeyboardHeight(height) {\n        this._keyboardHeight = height;\n    }\n    getKeyboardHeight() {\n        if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n            // For android: on-screen keyboard resized main container and has own height.\n            // @see https://developer.android.com/training/keyboard-input/visibility.html\n            // So for calculate the messages container height ignore keyboard height.\n            return 0;\n        }\n        return this._keyboardHeight;\n    }\n    setBottomOffset(value) {\n        this._bottomOffset = value;\n    }\n    getBottomOffset() {\n        return this._bottomOffset;\n    }\n    setIsFirstLayout(value) {\n        this._isFirstLayout = value;\n    }\n    getIsFirstLayout() {\n        return this._isFirstLayout;\n    }\n    setIsTypingDisabled(value) {\n        this.setState({\n            typingDisabled: value,\n        });\n    }\n    getIsTypingDisabled() {\n        return this.state.typingDisabled;\n    }\n    setIsMounted(value) {\n        this._isMounted = value;\n    }\n    getIsMounted() {\n        return this._isMounted;\n    }\n    getMinInputToolbarHeight() {\n        return this.props.renderAccessory\n            ? this.props.minInputToolbarHeight * 2\n            : this.props.minInputToolbarHeight;\n    }\n    calculateInputToolbarHeight(composerHeight) {\n        return (composerHeight +\n            (this.getMinInputToolbarHeight() - this.props.minComposerHeight));\n    }\n    /**\n     * Returns the height, based on current window size, without taking the keyboard into account.\n     */\n    getBasicMessagesContainerHeight(composerHeight = this.state.composerHeight) {\n        return (this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight));\n    }\n    /**\n     * Returns the height, based on current window size, taking the keyboard into account.\n     */\n    getMessagesContainerHeightWithKeyboard(composerHeight = this.state.composerHeight) {\n        return (this.getBasicMessagesContainerHeight(composerHeight) -\n            this.getKeyboardHeight() +\n            this.getBottomOffset());\n    }\n    /**\n     * Store text input focus status when keyboard hide to retrieve\n     * it after wards if needed.\n     * `onKeyboardWillHide` may be called twice in sequence so we\n     * make a guard condition (eg. showing image picker)\n     */\n    handleTextInputFocusWhenKeyboardHide() {\n        var _a;\n        if (!this._isTextInputWasFocused) {\n            this._isTextInputWasFocused = ((_a = this.textInput) === null || _a === void 0 ? void 0 : _a.isFocused()) || false;\n        }\n    }\n    /**\n     * Refocus the text input only if it was focused before showing keyboard.\n     * This is needed in some cases (eg. showing image picker).\n     */\n    handleTextInputFocusWhenKeyboardShow() {\n        if (this.textInput &&\n            this._isTextInputWasFocused &&\n            !this.textInput.isFocused()) {\n            this.textInput.focus();\n        }\n        // Reset the indicator since the keyboard is shown\n        this._isTextInputWasFocused = false;\n    }\n    scrollToBottom(animated = true) {\n        if (this._messageContainerRef && this._messageContainerRef.current) {\n            const { inverted } = this.props;\n            if (!inverted) {\n                this._messageContainerRef.current.scrollToEnd({ animated });\n            }\n            else {\n                this._messageContainerRef.current.scrollToOffset({\n                    offset: 0,\n                    animated,\n                });\n            }\n        }\n    }\n    renderMessages() {\n        const { messagesContainerStyle, ...messagesContainerProps } = this.props;\n        const fragment = (<View style={[\n                {\n                    height: this.state.messagesContainerHeight,\n                },\n                messagesContainerStyle,\n            ]}>\n        <MessageContainer {...messagesContainerProps} invertibleScrollViewProps={this.invertibleScrollViewProps} messages={this.getMessages()} forwardRef={this._messageContainerRef} isTyping={this.props.isTyping}/>\n        {this.renderChatFooter()}\n      </View>);\n        return this.props.isKeyboardInternallyHandled ? (<KeyboardAvoidingView enabled>{fragment}</KeyboardAvoidingView>) : (fragment);\n    }\n    resetInputToolbar() {\n        if (this.textInput) {\n            this.textInput.clear();\n        }\n        this.notifyInputTextReset();\n        const newComposerHeight = this.props.minComposerHeight;\n        const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n        this.setState({\n            text: this.getTextFromProp(''),\n            composerHeight: newComposerHeight,\n            messagesContainerHeight: newMessagesContainerHeight,\n        });\n    }\n    focusTextInput() {\n        if (this.textInput) {\n            this.textInput.focus();\n        }\n    }\n    notifyInputTextReset() {\n        if (this.props.onInputTextChanged) {\n            this.props.onInputTextChanged('');\n        }\n    }\n    renderInputToolbar() {\n        const inputToolbarProps = {\n            ...this.props,\n            text: this.getTextFromProp(this.state.text),\n            composerHeight: Math.max(this.props.minComposerHeight, this.state.composerHeight),\n            onSend: this.onSend,\n            onInputSizeChanged: this.onInputSizeChanged,\n            onTextChanged: this.onInputTextChanged,\n            textInputProps: {\n                ...this.props.textInputProps,\n                ref: (textInput) => (this.textInput = textInput),\n                maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\n            },\n        };\n        if (this.props.renderInputToolbar) {\n            return this.props.renderInputToolbar(inputToolbarProps);\n        }\n        return <InputToolbar {...inputToolbarProps}/>;\n    }\n    renderChatFooter() {\n        if (this.props.renderChatFooter) {\n            return this.props.renderChatFooter();\n        }\n        return null;\n    }\n    renderLoading() {\n        if (this.props.renderLoading) {\n            return this.props.renderLoading();\n        }\n        return null;\n    }\n    render() {\n        if (this.state.isInitialized === true) {\n            const actionSheet = this.props.actionSheet ||\n                (() => { var _a; return (_a = this._actionSheetRef.current) === null || _a === void 0 ? void 0 : _a.getContext(); });\n            const { getLocale } = this;\n            return (<GiftedChatContext.Provider value={{\n                    actionSheet,\n                    getLocale,\n                }}>\n          <View testID={TEST_ID.WRAPPER} style={styles.wrapper}>\n            <ActionSheetProvider ref={this._actionSheetRef}>\n              <View style={styles.container} onLayout={this.onMainViewLayout}>\n                {this.renderMessages()}\n                {this.renderInputToolbar()}\n              </View>\n            </ActionSheetProvider>\n          </View>\n        </GiftedChatContext.Provider>);\n        }\n        return (<View testID={TEST_ID.LOADING_WRAPPER} style={styles.container} onLayout={this.onInitialLayoutViewLayout}>\n        {this.renderLoading()}\n      </View>);\n    }\n}\nGiftedChat.defaultProps = {\n    messages: [],\n    messagesContainerStyle: undefined,\n    text: undefined,\n    placeholder: DEFAULT_PLACEHOLDER,\n    disableComposer: false,\n    messageIdGenerator: () => uuid.v4(),\n    user: {},\n    onSend: () => { },\n    locale: null,\n    timeFormat: TIME_FORMAT,\n    dateFormat: DATE_FORMAT,\n    loadEarlier: false,\n    onLoadEarlier: () => { },\n    isLoadingEarlier: false,\n    renderLoading: null,\n    renderLoadEarlier: null,\n    renderAvatar: undefined,\n    showUserAvatar: false,\n    actionSheet: null,\n    onPressAvatar: null,\n    onLongPressAvatar: null,\n    renderUsernameOnMessage: false,\n    renderAvatarOnTop: false,\n    renderBubble: null,\n    renderSystemMessage: null,\n    onLongPress: null,\n    renderUserName: null,\n    renderMessage: null,\n    renderMessageText: null,\n    renderMessageImage: null,\n    renderMessageVideo: null,\n    renderMessageAudio: null,\n    imageProps: {},\n    videoProps: {},\n    audioProps: {},\n    lightboxProps: {},\n    textInputProps: {},\n    listViewProps: {},\n    renderCustomView: null,\n    isCustomViewBottom: false,\n    renderDay: null,\n    renderTime: null,\n    renderFooter: null,\n    renderChatEmpty: null,\n    renderChatFooter: null,\n    renderInputToolbar: null,\n    renderComposer: null,\n    renderActions: null,\n    renderSend: null,\n    renderAccessory: null,\n    isKeyboardInternallyHandled: true,\n    onPressActionButton: null,\n    bottomOffset: null,\n    minInputToolbarHeight: 44,\n    keyboardShouldPersistTaps: Platform.select({\n        ios: 'never',\n        android: 'always',\n        default: 'never',\n    }),\n    onInputTextChanged: null,\n    maxInputLength: null,\n    forceGetKeyboardHeight: false,\n    inverted: true,\n    extraData: null,\n    minComposerHeight: MIN_COMPOSER_HEIGHT,\n    maxComposerHeight: MAX_COMPOSER_HEIGHT,\n};\nGiftedChat.propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object),\n    messagesContainerStyle: utils.StylePropType,\n    text: PropTypes.string,\n    initialText: PropTypes.string,\n    placeholder: PropTypes.string,\n    disableComposer: PropTypes.bool,\n    messageIdGenerator: PropTypes.func,\n    user: PropTypes.object,\n    onSend: PropTypes.func,\n    locale: PropTypes.string,\n    timeFormat: PropTypes.string,\n    dateFormat: PropTypes.string,\n    isKeyboardInternallyHandled: PropTypes.bool,\n    loadEarlier: PropTypes.bool,\n    onLoadEarlier: PropTypes.func,\n    isLoadingEarlier: PropTypes.bool,\n    renderLoading: PropTypes.func,\n    renderLoadEarlier: PropTypes.func,\n    renderAvatar: PropTypes.func,\n    showUserAvatar: PropTypes.bool,\n    actionSheet: PropTypes.func,\n    onPressAvatar: PropTypes.func,\n    onLongPressAvatar: PropTypes.func,\n    renderUsernameOnMessage: PropTypes.bool,\n    renderAvatarOnTop: PropTypes.bool,\n    isCustomViewBottom: PropTypes.bool,\n    renderBubble: PropTypes.func,\n    renderSystemMessage: PropTypes.func,\n    onLongPress: PropTypes.func,\n    renderMessage: PropTypes.func,\n    renderMessageText: PropTypes.func,\n    renderMessageImage: PropTypes.func,\n    imageProps: PropTypes.object,\n    videoProps: PropTypes.object,\n    audioProps: PropTypes.object,\n    lightboxProps: PropTypes.object,\n    renderCustomView: PropTypes.func,\n    renderDay: PropTypes.func,\n    renderTime: PropTypes.func,\n    renderFooter: PropTypes.func,\n    renderChatEmpty: PropTypes.func,\n    renderChatFooter: PropTypes.func,\n    renderInputToolbar: PropTypes.func,\n    renderComposer: PropTypes.func,\n    renderActions: PropTypes.func,\n    renderSend: PropTypes.func,\n    renderAccessory: PropTypes.func,\n    onPressActionButton: PropTypes.func,\n    bottomOffset: PropTypes.number,\n    minInputToolbarHeight: PropTypes.number,\n    listViewProps: PropTypes.object,\n    keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n    onInputTextChanged: PropTypes.func,\n    maxInputLength: PropTypes.number,\n    forceGetKeyboardHeight: PropTypes.bool,\n    inverted: PropTypes.bool,\n    textInputProps: PropTypes.object,\n    extraData: PropTypes.object,\n    minComposerHeight: PropTypes.number,\n    maxComposerHeight: PropTypes.number,\n    alignTop: PropTypes.bool,\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    wrapper: {\n        flex: 1,\n    },\n});\nexport * from './Models';\nexport { GiftedChat, Actions, Avatar, Bubble, SystemMessage, MessageImage, MessageText, Composer, Day, InputToolbar, LoadEarlier, Message, MessageContainer, Send, Time, GiftedAvatar, utils, };\n//# sourceMappingURL=GiftedChat.js.map"]},"metadata":{},"sourceType":"module"}