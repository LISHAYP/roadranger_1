{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport RoadRanger from \"../assets/RoadRanger.png\";\nimport { Dropdown } from 'react-native-element-dropdown';\nimport CalendarPicker from 'react-native-calendar-picker';\nimport moment from 'moment';\nimport GradientBackground from \"../Components/GradientBackground\";\nimport Geocoder from 'react-native-geocoding';\nimport BackButton from \"../Components/BackButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MyPost(props) {\n  var events = props.route.params.events;\n  var traveler = props.route.params.traveler;\n  console.log(\"iiiiiii\", traveler);\n  console.log(\"iiiiiii\", events);\n  var navigation = useNavigation();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    eventWithAddresses = _useState2[0],\n    setEventWithAddresses = _useState2[1];\n  Geocoder.init('AIzaSyDN2je5f_VeKV-DCzkaYBg1nRs_N6zn5so');\n  console.log(\"%%%%%%%%%%%%\", events);\n  useEffect(function () {\n    Promise.all(events.map(function (event) {\n      var lat = event.Latitude;\n      var lng = event.Longitude;\n      return Geocoder.from(lat, lng).then(function (json) {\n        var location = json.results[0].address_components;\n        var number = location[0].long_name;\n        var street = location[1].long_name;\n        var city = location[2].long_name;\n        var address = street + \" \" + number + \", \" + city;\n        return _objectSpread(_objectSpread({}, event), {}, {\n          address: address\n        });\n      });\n    })).then(function (eventsWithAddress) {\n      setEventWithAddresses(eventsWithAddress);\n    });\n    console.log(\"-----------------\", eventWithAddresses);\n  }, [events]);\n  console.log(\"-----------------\", eventWithAddresses);\n  return _jsx(GradientBackground, {\n    children: _jsx(ScrollView, {\n      children: _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(BackButton, {}), _jsx(View, {\n          children: eventWithAddresses !== undefined ? eventWithAddresses.filter(function (event) {\n            return event.TravelerId === traveler.traveler_id;\n          }).map(function (event, index) {\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('Event Details', {\n                  event: event,\n                  traveler: traveler\n                });\n              },\n              children: _jsxs(View, {\n                style: styles.event,\n                children: [_jsxs(View, {\n                  style: styles.detailsContainer,\n                  children: [_jsx(Text, {\n                    style: styles.details,\n                    children: event.Details\n                  }), _jsx(Text, {\n                    children: new Date(event.EventDate).toLocaleDateString('en-GB')\n                  }), _jsx(Text, {\n                    children: event.EventTime.slice(0, 5)\n                  }), _jsx(Text, {\n                    children: event.address\n                  })]\n                }), _jsx(Image, {\n                  source: {\n                    uri: event.Picture\n                  },\n                  style: styles.img\n                })]\n              }, event.eventNumber)\n            });\n          }) : _jsx(Text, {\n            children: \"No events found.\"\n          })\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 40,\n    marginVertical: 10,\n    marginHorizontal: 10,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  event: {\n    backgroundColor: 'rgba(0, 0, 0, 0.07)',\n    borderRadius: 15,\n    padding: 10,\n    margin: 10,\n    marginRight: 30,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '90%',\n    borderRadius: 20,\n    backgroundColor: '#F5F5F5',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.32,\n    shadowRadius: 5.46,\n    elevation: 9\n  },\n  detailsContainer: {\n    flex: 1,\n    marginRight: 10\n  },\n  details: {\n    width: '90%',\n    marginBottom: 5,\n    marginBottom: 10,\n    fontWeight: 'bold'\n  },\n  img: {\n    width: 100,\n    height: 100,\n    borderRadius: 20,\n    marginLeft: 10,\n    resizeMode: 'cover'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useCallback","View","Text","TextInput","StyleSheet","TouchableOpacity","Image","ScrollView","ActivityIndicator","Switch","useFocusEffect","useNavigation","Icon","RoadRanger","Dropdown","CalendarPicker","moment","GradientBackground","Geocoder","BackButton","jsx","_jsx","jsxs","_jsxs","MyPost","props","events","route","params","traveler","console","log","navigation","_useState","_useState2","_slicedToArray","eventWithAddresses","setEventWithAddresses","init","Promise","all","map","event","lat","Latitude","lng","Longitude","from","then","json","location","results","address_components","number","long_name","street","city","address","_objectSpread","eventsWithAddress","children","style","styles","container","undefined","filter","TravelerId","traveler_id","index","onPress","navigate","detailsContainer","details","Details","Date","EventDate","toLocaleDateString","EventTime","slice","source","uri","Picture","img","eventNumber","create","marginTop","marginVertical","marginHorizontal","width","height","backgroundColor","borderRadius","padding","margin","marginRight","flexDirection","justifyContent","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","flex","marginBottom","fontWeight","marginLeft","resizeMode"],"sources":["C:/Users/97250/Desktop/פרויקט גמר/roadranger_1/client/travelersSide/Screens/MyPost.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { View, Text, TextInput, StyleSheet, TouchableOpacity, Image, ScrollView, ActivityIndicator, Switch } from 'react-native';\r\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\r\nimport Icon from \"react-native-vector-icons/Ionicons\";\r\nimport RoadRanger from '../assets/RoadRanger.png';\r\nimport { Dropdown } from 'react-native-element-dropdown';\r\nimport CalendarPicker from 'react-native-calendar-picker';\r\nimport moment from 'moment';\r\nimport GradientBackground from '../Components/GradientBackground';\r\nimport Geocoder from 'react-native-geocoding';\r\nimport BackButton from '../Components/BackButton';\r\n\r\nexport default function MyPost(props) {\r\n    // const [events, setEvents] = useState([]);\r\n    const events = props.route.params.events;\r\n    const traveler = props.route.params.traveler;\r\n    console.log(\"iiiiiii\", traveler)\r\n    console.log(\"iiiiiii\", events)\r\n    const navigation = useNavigation();\r\n    const [eventWithAddresses, setEventWithAddresses] = useState([]);\r\n    Geocoder.init('AIzaSyDN2je5f_VeKV-DCzkaYBg1nRs_N6zn5so');\r\n\r\n    console.log(\"%%%%%%%%%%%%\", events)\r\n    useEffect(() => {\r\n        Promise.all(events.map(event => {\r\n            const lat = event.Latitude;\r\n            const lng = event.Longitude;\r\n            return Geocoder.from(lat, lng).then(json => {\r\n                const location = json.results[0].address_components;\r\n                const number = location[0].long_name;\r\n                const street = location[1].long_name;\r\n                const city = location[2].long_name;\r\n                const address = `${street} ${number}, ${city}`;\r\n                return { ...event, address };\r\n            });\r\n        })).then(eventsWithAddress => {\r\n            setEventWithAddresses(eventsWithAddress);\r\n\r\n        });\r\n     console.log(\"-----------------\", eventWithAddresses)\r\n\r\n    }, [events]);\r\n    console.log(\"-----------------\", eventWithAddresses)\r\n    return (\r\n        <GradientBackground>\r\n            <ScrollView>\r\n                <View style={styles.container}>\r\n                    <BackButton />\r\n                    <View>\r\n                        {eventWithAddresses !== undefined ? (\r\n                            eventWithAddresses.filter(event => event.TravelerId === traveler.traveler_id).map((event, index) => (\r\n                                <TouchableOpacity onPress={() => {\r\n                                    navigation.navigate('Event Details', { event: event, traveler: traveler });\r\n                                }} >\r\n                                    <View style={styles.event} key={event.eventNumber}>\r\n                                        <View style={styles.detailsContainer}>\r\n                                            <Text style={styles.details}>{event.Details}</Text>\r\n                                            <Text>{new Date(event.EventDate).toLocaleDateString('en-GB')}</Text>\r\n                                            <Text>{event.EventTime.slice(0, 5)}</Text>\r\n                                            <Text>{event.address}</Text>\r\n\r\n                                        </View>\r\n                                        <Image source={{ uri: event.Picture }} style={styles.img} />\r\n                                    </View>\r\n                                </TouchableOpacity>\r\n                            ))\r\n                        ) : (\r\n                            <Text>No events found.</Text>\r\n                        )}\r\n                    </View>\r\n                </View>\r\n\r\n            </ScrollView>\r\n        </GradientBackground>\r\n    );\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginTop: 40,\r\n        marginVertical: 10,\r\n        marginHorizontal: 10,\r\n        width: \"100%\",\r\n        height: \"100%\"\r\n    },\r\n    event: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.07)',\r\n        borderRadius: 15,\r\n        padding: 10,\r\n        margin: 10,\r\n        marginRight: 30,\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        width: '90%',\r\n        borderRadius: 20,\r\n        backgroundColor: '#F5F5F5',\r\n        shadowColor: \"#000\",\r\n            shadowOffset: {\r\n             width: 0,\r\n            height: 5},\r\n            shadowOpacity: 0.32,\r\n            shadowRadius: 5.46,\r\n            elevation: 9\r\n    },\r\n    detailsContainer: {\r\n        flex: 1,\r\n        marginRight: 10,\r\n\r\n    },\r\n    details: {\r\n        width: '90%',\r\n        marginBottom: 5,\r\n        marginBottom: 10,\r\n        fontWeight: 'bold'\r\n    },\r\n    img: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 20,\r\n        marginLeft: 10,\r\n        resizeMode: 'cover'\r\n    }\r\n\r\n\r\n\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}