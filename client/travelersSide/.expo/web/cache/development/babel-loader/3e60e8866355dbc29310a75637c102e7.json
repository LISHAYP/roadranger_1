{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport RoadRanger from \"../assets/RoadRanger.png\";\nimport { Dropdown } from 'react-native-element-dropdown';\nimport CalendarPicker from 'react-native-calendar-picker';\nimport moment from 'moment';\nimport GradientBackground from \"../Components/GradientBackground\";\nimport BackButton from \"../Components/BackButton\";\nimport Geocoder from 'react-native-geocoding';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Warning(props) {\n  var navigation = useNavigation();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchKeyword = _useState2[0],\n    setSearchKeyword = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    events = _useState4[0],\n    setEvents = _useState4[1];\n  var traveler = props.route.params.traveler;\n  useEffect(function () {\n    fetch('http://cgroup90@194.90.158.74/cgroup90/prod/api/NewEvent', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      setEvents(data);\n    });\n  }, [events]);\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    eventAddresses = _useState6[0],\n    setEventAddresses = _useState6[1];\n  useEffect(function () {\n    Geocoder.init('AIzaSyDN2je5f_VeKV-DCzkaYBg1nRs_N6zn5so');\n    Promise.all(events.filter(function (event) {\n      return event.SerialTypeNumber == 1004;\n    }).map(function (event) {\n      return Geocoder.from(event.Latitude, event.Longitude).then(function (json) {\n        return json.results[0].formatted_address;\n      }).catch(function () {\n        return 'Address not found';\n      });\n    })).then(function (addresses) {\n      return setEventAddresses(addresses);\n    });\n  }, []);\n  return _jsxs(GradientBackground, {\n    children: [_jsx(BackButton, {}), _jsx(ScrollView, {\n      children: _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(TextInput, {\n          style: styles.searchInput,\n          placeholder: \"Search...\",\n          value: searchKeyword,\n          onChangeText: function onChangeText(text) {\n            return setSearchKeyword(text);\n          }\n        }), _jsx(View, {\n          children: events !== undefined && events.length > 0 ? events.filter(function (event) {\n            return event.SerialTypeNumber == 1004 && event.Details.toLowerCase().includes(searchKeyword.toLowerCase());\n          }).map(function (event, index) {\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('Event Details', {\n                  event: event,\n                  traveler: traveler\n                });\n              },\n              children: _jsxs(View, {\n                style: styles.event,\n                children: [_jsxs(View, {\n                  style: styles.detailsContainer,\n                  children: [_jsx(Text, {\n                    style: styles.details,\n                    children: event.Details\n                  }), _jsx(Text, {\n                    children: new Date(event.EventDate).toLocaleDateString('en-GB')\n                  }), _jsx(Text, {\n                    children: event.EventTime.slice(0, 5)\n                  }), _jsx(Text, {\n                    children: eventAddresses[index]\n                  })]\n                }), _jsx(Image, {\n                  source: {\n                    uri: event.Picture\n                  },\n                  style: styles.img\n                })]\n              }, event.eventNumber)\n            });\n          }) : _jsx(Text, {\n            children: \"No events found.\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 40,\n    marginVertical: 10,\n    marginHorizontal: 10,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  event: {\n    backgroundColor: 'rgba(0, 0, 0, 0.07)',\n    borderRadius: 15,\n    padding: 10,\n    margin: 10,\n    marginRight: 30,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '90%'\n  },\n  detailsContainer: {\n    flex: 1,\n    marginRight: 10\n  },\n  details: {\n    width: '90%',\n    marginBottom: 5,\n    marginBottom: 10,\n    fontWeight: 'bold'\n  },\n  img: {\n    width: 100,\n    height: 100,\n    borderRadius: 20,\n    marginLeft: 10,\n    resizeMode: 'cover'\n  },\n  btnSave: {\n    marginVertical: 20,\n    width: \"50%\",\n    alignSelf: 'center',\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    borderColor: '#144800',\n    borderWidth: 2,\n    borderRadius: 25,\n    backgroundColor: '#144800'\n  },\n  btnText: {\n    color: '#F8F8FF',\n    alignSelf: 'center',\n    fontSize: 20\n  },\n  searchInput: {\n    fontSize: 35,\n    marginBottom: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useCallback","View","Text","TextInput","StyleSheet","TouchableOpacity","Image","ScrollView","ActivityIndicator","Switch","useFocusEffect","useNavigation","Icon","RoadRanger","Dropdown","CalendarPicker","moment","GradientBackground","BackButton","Geocoder","jsx","_jsx","jsxs","_jsxs","Warning","props","navigation","_useState","_useState2","_slicedToArray","searchKeyword","setSearchKeyword","_useState3","_useState4","events","setEvents","traveler","route","params","fetch","method","headers","Accept","then","response","json","data","_useState5","_useState6","eventAddresses","setEventAddresses","init","Promise","all","filter","event","SerialTypeNumber","map","from","Latitude","Longitude","results","formatted_address","catch","addresses","children","style","styles","container","searchInput","placeholder","value","onChangeText","text","undefined","length","Details","toLowerCase","includes","index","onPress","navigate","detailsContainer","details","Date","EventDate","toLocaleDateString","EventTime","slice","source","uri","Picture","img","eventNumber","create","marginTop","marginVertical","marginHorizontal","width","height","backgroundColor","borderRadius","padding","margin","marginRight","flexDirection","justifyContent","flex","marginBottom","fontWeight","marginLeft","resizeMode","btnSave","alignSelf","paddingVertical","paddingHorizontal","borderColor","borderWidth","btnText","color","fontSize"],"sources":["C:/Users/97250/Desktop/פרויקט גמר/roadranger_1/client/travelersSide/Screens/Warning.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { View, Text, TextInput, StyleSheet, TouchableOpacity, Image, ScrollView, ActivityIndicator, Switch } from 'react-native';\r\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\r\nimport Icon from \"react-native-vector-icons/Ionicons\";\r\nimport RoadRanger from '../assets/RoadRanger.png';\r\nimport { Dropdown } from 'react-native-element-dropdown';\r\nimport CalendarPicker from 'react-native-calendar-picker';\r\nimport moment from 'moment';\r\nimport GradientBackground from '../Components/GradientBackground';\r\nimport BackButton from '../Components/BackButton';\r\nimport Geocoder from 'react-native-geocoding';\r\n\r\nexport default function Warning(props) {\r\n    const navigation = useNavigation();\r\n    const [searchKeyword, setSearchKeyword] = useState('');\r\n\r\n    const [events, setEvents] = useState([]);\r\n    const traveler = props.route.params.traveler;\r\n    \r\n\r\n    // Geocoder.init('AIzaSyDN2je5f_VeKV-DCzkaYBg1nRs_N6zn5so');\r\n\r\n    useEffect(() => {\r\n        fetch('http://cgroup90@194.90.158.74/cgroup90/prod/api/NewEvent', {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setEvents(data)\r\n            });\r\n\r\n    }, [events]);\r\n\r\n    const [eventAddresses, setEventAddresses] = useState([]);\r\n\r\n    useEffect(() => {\r\n        Geocoder.init('AIzaSyDN2je5f_VeKV-DCzkaYBg1nRs_N6zn5so');\r\n        Promise.all(\r\n            events.filter(event => event.SerialTypeNumber == 1004).map((event) =>\r\n                Geocoder.from(event.Latitude, event.Longitude)\r\n                    .then((json) => json.results[0].formatted_address)\r\n                    .catch(() => 'Address not found')\r\n            )\r\n        ).then((addresses) => setEventAddresses(addresses));\r\n    }, []);\r\n    // console.log(eventAddresses)\r\n    return (\r\n        <GradientBackground>\r\n            <BackButton />\r\n            <ScrollView>\r\n                <View style={styles.container}>\r\n                   \r\n                    <TextInput\r\n                        style={styles.searchInput}\r\n                        placeholder=\"Search...\"\r\n                        value={searchKeyword}\r\n                        onChangeText={text => setSearchKeyword(text)}\r\n                    />\r\n                    <View>\r\n                        {events !== undefined && events.length > 0 ? (\r\n                            events.filter(event => event.SerialTypeNumber == 1004 && event.Details.toLowerCase().includes(searchKeyword.toLowerCase())).map((event, index) => (\r\n                                <TouchableOpacity onPress={() => {\r\n                                    navigation.navigate('Event Details', { event: event, traveler:traveler });\r\n                                }} >\r\n                                    <View style={styles.event} key={event.eventNumber}>\r\n                                        <View style={styles.detailsContainer}>\r\n                                            <Text style={styles.details}>{event.Details}</Text>\r\n                                            <Text >{new Date(event.EventDate).toLocaleDateString('en-GB')}</Text>\r\n                                            <Text >{event.EventTime.slice(0, 5)}</Text>\r\n                                            <Text >{eventAddresses[index]}</Text>\r\n\r\n                                        </View>\r\n                                        <Image source={{ uri: event.Picture }} style={styles.img} />\r\n                                    </View>\r\n                                </TouchableOpacity>\r\n                            ))\r\n                        ) : (\r\n                            <Text>No events found.</Text>\r\n                        )}\r\n                    </View>\r\n                </View>\r\n\r\n            </ScrollView>\r\n        </GradientBackground>\r\n    );\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginTop: 40,\r\n        marginVertical: 10,\r\n        marginHorizontal: 10,\r\n        width: \"100%\",\r\n        height: \"100%\"\r\n    },\r\n    event: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.07)',\r\n        borderRadius: 15,\r\n        padding: 10,\r\n        margin: 10,\r\n        marginRight: 30,\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        width: '90%'\r\n    },\r\n    detailsContainer: {\r\n        flex: 1,\r\n        marginRight: 10,\r\n\r\n    },\r\n    details: {\r\n        width: '90%',\r\n        marginBottom: 5,\r\n        marginBottom: 10,\r\n        fontWeight: 'bold'\r\n    },\r\n    img: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 20,\r\n        marginLeft: 10,\r\n        resizeMode: 'cover'\r\n    },\r\n    btnSave: {\r\n        marginVertical: 20,\r\n        width: \"50%\",\r\n        alignSelf: 'center',\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 15,\r\n        borderColor: '#144800',\r\n        borderWidth: 2,\r\n        borderRadius: 25,\r\n        backgroundColor: '#144800'\r\n    },\r\n\r\n    btnText: {\r\n        color: '#F8F8FF',\r\n        alignSelf: 'center',\r\n        fontSize: 20,\r\n\r\n    },\r\n    searchInput:{\r\n        fontSize:35,\r\n        marginBottom:20\r\n    }\r\n\r\n\r\n\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}